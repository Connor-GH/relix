LIBSHAREDDIR = lib
LIBSHARED = $(wildcard $(LIBSHAREDDIR)/*.c)
LIBSHARED_OBJ = $(LIBSHARED:$(LIBSHAREDDIR)/%.c=$(BIN)/%.o)


LIBSHARED_STATIC = $(BIN)/libshared.a

LIBCFLAGS = -I$(LIBSHAREDDIR)/include -I. $(IVARS)

$(LIBSHARED_OBJ): $(BIN)/%.o : $(LIBSHAREDDIR)/%.c
	$(CC) $(CFLAGS) $(LIBCFLAGS) -c -o $@ $^

$(LIBSHARED_STATIC): $(LIBSHARED_OBJ)
	$(AR) -r $@ $^
	$(RANLIB) $@

